---
/**
 * RiskCard Component
 * Hunter Galloway Design System - Molecular Component
 * 
 * A card component for displaying risks/benefits with icons and descriptions.
 * Used primarily in RiskWidget sections for trust-building and risk mitigation content.
 * Built to match the WordPress risk_list item pattern exactly.
 */

import type { RiskCardProps } from './RiskCard.types';
import Icon from '../../atoms/Icon/Icon.astro';
import { semantic } from '../../../tokens/semantic';

interface Props extends RiskCardProps {}

const {
  icon,
  title,
  description,
  variant = 'default',
  class: additionalClasses = '',
} = Astro.props;

// Build CSS classes based on variant
const cardClasses = [
  'hg-risk-card',
  `hg-risk-card--${variant}`,
  additionalClasses,
].filter(Boolean).join(' ');
---

<li class={cardClasses}>
  <div class="risk-icon">
    <Icon name={icon} size="md" color="primary" />
  </div>
  <p class="list_title">{title}</p>
  <p class="list_text">{description}</p>
</li>

<style define:vars={{
  textPrimary: semantic.color.text.primary,
  textSecondary: semantic.color.text.secondary,
  brandPrimary: semantic.color.brand.primary,
  fontSizeLg: semantic.typography.size.lg, // 20px - WordPress exact
  fontSizeMd: semantic.typography.size.md, // 17px - WordPress exact
  fontSizeSm: semantic.typography.size.sm, // 13px - mobile WordPress
  fontWeightDisplay: semantic.typography.weight.display, // 900 - WordPress exact
  fontWeightHeading: semantic.typography.weight.heading,
  lineHeightTight: semantic.typography.lineHeight.tight, // 1.2 - WordPress exact
  lineHeightBody: semantic.typography.lineHeight.body,
  spaceLg: semantic.space.lg,
  spaceMd: semantic.space.md,
  spaceSm: semantic.space.sm,
}}>
/* RiskCard component styles - WordPress exact implementation */
.hg-risk-card {
  position: relative;
  padding-left: 54px; /* WordPress exact - space for icon */
  padding-bottom: 34px; /* WordPress exact - space between items */
  list-style: none;
  display: block;
}

.hg-risk-card:last-child {
  padding-bottom: 0; /* Remove bottom padding from last item */
}

/* Style variant: default - standard WordPress styling */
.hg-risk-card--default .risk-icon {
  position: absolute;
  left: 0;
  top: 0;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.hg-risk-card--default .list_title {
  font-size: var(--fontSizeLg); /* 20px - WordPress exact */
  font-weight: var(--fontWeightDisplay); /* 900 - WordPress exact */
  color: var(--textPrimary);
  line-height: var(--lineHeightTight);
  padding-bottom: 8px; /* WordPress exact */
  margin: 0;
}

.hg-risk-card--default .list_text {
  font-size: var(--fontSizeMd); /* 17px - WordPress exact */
  color: var(--textPrimary);
  line-height: var(--lineHeightTight); /* 1.2 - WordPress exact */
  margin: 0;
}

/* Style variant: compact - smaller sizing for dense layouts */
.hg-risk-card--compact {
  padding-left: 44px;
  padding-bottom: var(--spaceMd);
}

.hg-risk-card--compact .risk-icon {
  position: absolute;
  left: 0;
  top: 0;
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.hg-risk-card--compact .list_title {
  font-size: var(--fontSizeMd);
  font-weight: var(--fontWeightHeading);
  color: var(--textPrimary);
  line-height: var(--lineHeightTight);
  padding-bottom: 4px;
  margin: 0;
}

.hg-risk-card--compact .list_text {
  font-size: var(--fontSizeSm);
  color: var(--textSecondary);
  line-height: var(--lineHeightBody);
  margin: 0;
}

/* Style variant: highlighted - emphasized styling for key points */
.hg-risk-card--highlighted {
  padding-left: 58px;
  padding-bottom: var(--spaceLg);
  border-left: 3px solid var(--brandPrimary);
  padding-left: 61px; /* Adjust for border */
  margin-left: -3px; /* Align with other items */
}

.hg-risk-card--highlighted .risk-icon {
  position: absolute;
  left: 12px; /* Adjust for border */
  top: 0;
  width: 44px;
  height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(253, 185, 72, 0.1); /* Light brand color background */
  border-radius: 50%;
}

.hg-risk-card--highlighted .list_title {
  font-size: var(--fontSizeLg);
  font-weight: var(--fontWeightDisplay);
  color: var(--brandPrimary);
  line-height: var(--lineHeightTight);
  padding-bottom: 10px;
  margin: 0;
}

.hg-risk-card--highlighted .list_text {
  font-size: var(--fontSizeMd);
  color: var(--textPrimary);
  line-height: var(--lineHeightTight);
  margin: 0;
}

/* Responsive design matching WordPress patterns */
@media (max-width: 767px) {
  .hg-risk-card {
    padding-left: 44px;
    padding-bottom: var(--spaceMd);
  }
  
  .hg-risk-card--default .risk-icon,
  .hg-risk-card--compact .risk-icon {
    width: 32px;
    height: 32px;
  }
  
  .hg-risk-card--highlighted .risk-icon {
    width: 36px;
    height: 36px;
    left: 8px;
  }
  
  .hg-risk-card--default .list_title {
    font-size: var(--fontSizeSm); /* 13px - WordPress mobile */
  }
  
  .hg-risk-card--default .list_text,
  .hg-risk-card--highlighted .list_text {
    font-size: var(--fontSizeSm); /* 13px - WordPress mobile */
    margin-bottom: -5px; /* WordPress mobile adjustment */
  }
  
  .hg-risk-card--compact .list_title {
    font-size: var(--fontSizeSm);
  }
  
  .hg-risk-card--compact .list_text {
    font-size: 12px;
  }
  
  .hg-risk-card--highlighted {
    padding-left: 48px;
    margin-left: -3px;
  }
  
  .hg-risk-card--highlighted .list_title {
    font-size: var(--fontSizeSm);
  }
}
</style>